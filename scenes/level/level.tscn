[gd_scene load_steps=30 format=3 uid="uid://ddhwvnrt4veas"]

[ext_resource type="PackedScene" uid="uid://ctiidqqgvmjm0" path="res://scenes/level/level_base.tscn" id="1_h3e3j"]
[ext_resource type="Script" uid="uid://cacegnsvxeb7n" path="res://scenes/level/main_game.gd" id="2_sytrn"]
[ext_resource type="PackedScene" uid="uid://cls2l048sueax" path="res://scenes/player/player.tscn" id="3_i166f"]
[ext_resource type="Shader" uid="uid://dvefp8crwbeq8" path="res://materials/pico8.gdshader" id="3_m0bv2"]
[ext_resource type="Texture2D" uid="uid://4lhd8480iw6b" path="res://hidden-library-1x.png" id="4_b7m21"]
[ext_resource type="PackedScene" uid="uid://1o1n6tonmg8w" path="res://scenes/level/map_layout_alt.tscn" id="5_a5iu8"]
[ext_resource type="PackedScene" uid="uid://cpsbtueuw7x8m" path="res://ui/mana_orb.tscn" id="8_xv074"]
[ext_resource type="Resource" uid="uid://bwqfywk466dn0" path="res://resources/item_sources/bottle_source.tres" id="10_vrc4q"]
[ext_resource type="Resource" uid="uid://c55dv7rq4fupj" path="res://resources/item_sources/marigold_source.tres" id="12_vrc4q"]
[ext_resource type="Resource" uid="uid://dfm6fepoiifqw" path="res://resources/recipes/vivid_from_candles_bottles_recipe.tres" id="14_3rml5"]
[ext_resource type="PackedScene" uid="uid://b7658larp87xq" path="res://scenes/interactable/cauldron.tscn" id="14_b3up8"]
[ext_resource type="Resource" uid="uid://wwm36lyddcat" path="res://resources/recipes/windy_from_marigold_pumpkin_recipe.tres" id="15_a5iu8"]
[ext_resource type="PackedScene" uid="uid://b5npl0ksq8mxq" path="res://scenes/interactable/item_provider.tscn" id="15_vrc4q"]
[ext_resource type="Resource" uid="uid://b70keb30v0jjb" path="res://resources/recipes/cozy_from_candle_recipe.tres" id="15_x4oov"]
[ext_resource type="Resource" uid="uid://diac4mt4r075o" path="res://resources/recipes/hollow_from_candles_clocks_bottles_pumpkins_recipe.tres" id="16_b3up8"]
[ext_resource type="Resource" uid="uid://ct7fqdi38bhjb" path="res://resources/recipes/cozy_from_coal_clocks_recipe.tres" id="16_x4oov"]
[ext_resource type="Resource" uid="uid://d2yfl3ic70o6r" path="res://resources/recipes/hollow_from_clocks_bottles_recipe.tres" id="17_ivku7"]
[ext_resource type="Resource" uid="uid://b7426tgx52tbw" path="res://resources/item_sources/clock_source.tres" id="17_ss4b2"]
[ext_resource type="Resource" uid="uid://rn2g0wjpgnys" path="res://resources/item_sources/coal_source.tres" id="18_qjqsm"]
[ext_resource type="Resource" uid="uid://b4npe2rlbifgl" path="res://resources/recipes/cozy_from_bottles_pumpkin_recipe.tres" id="18_ss4b2"]
[ext_resource type="ArrayMesh" uid="uid://cyysv06jchoop" path="res://models/custom/clock.obj" id="21_fhw5o"]
[ext_resource type="Material" uid="uid://c6y85fuj7qccd" path="res://materials/furniture_unshaded.tres" id="21_u5w0m"]
[ext_resource type="Resource" uid="uid://d3s3pn0p3blor" path="res://resources/item_sources/pumpkin_source.tres" id="21_wyi7n"]
[ext_resource type="Material" uid="uid://bwy0ygpw6wwvf" path="res://materials/outline.tres" id="23_cqqhe"]
[ext_resource type="ArrayMesh" uid="uid://cnntluk00hb7j" path="res://models/custom/bottle.obj" id="23_yoh1m"]
[ext_resource type="ArrayMesh" uid="uid://c23bvjcdd7u1l" path="res://models/custom/pumpkin.obj" id="24_yoh1m"]
[ext_resource type="Material" uid="uid://tsrbgbwtov5l" path="res://materials/furniture.tres" id="25_u5w0m"]
[ext_resource type="PackedScene" uid="uid://bilcilcn0ckx3" path="res://scenes/interactable/candle_provider.tscn" id="27_u5w0m"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_pm6rs"]
shader = ExtResource("3_m0bv2")
shader_parameter/palette_texture = ExtResource("4_b7m21")
shader_parameter/palette_size = 16
shader_parameter/solid_modifier = 0.6
shader_parameter/max_distance = 0.6
shader_parameter/gamma = 1.0

[node name="Level" instance=ExtResource("1_h3e3j")]
script = ExtResource("2_sytrn")

[node name="Fadeout" type="ColorRect" parent="CanvasLayer" index="0"]
offset_right = 261.0
offset_bottom = 238.0
mouse_filter = 2
color = Color(0, 0, 0, 0)

[node name="ColorRect" parent="CanvasLayer" index="1"]
material = SubResource("ShaderMaterial_pm6rs")

[node name="MapLayoutAlt" parent="." index="5" instance=ExtResource("5_a5iu8")]

[node name="Player" parent="." index="6" instance=ExtResource("3_i166f")]
transform = Transform3D(0.999896, 0, 0.0144508, 0, 1, 0, -0.0144508, 0, 0.999896, -0.318056, 0.657381, -3.61046)
mouse_sensitivity = 0.01

[node name="ManaOrb_For_performance_reasons" parent="." index="7" instance=ExtResource("8_xv074")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4.81567, 0.0175796, 8.92895)
visible = false
is_valid_orb = false

[node name="Interactions" type="Node3D" parent="." index="8"]

[node name="Cauldron_MainRoom1" parent="Interactions" index="0" instance=ExtResource("14_b3up8")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.91158, 0.126985, 2.73697)

[node name="ItemConsumer" parent="Interactions/Cauldron_MainRoom1" index="1"]
recipe = ExtResource("15_x4oov")

[node name="Cauldron_MainRoom2" parent="Interactions" index="1" instance=ExtResource("14_b3up8")]
transform = Transform3D(0.754515, 0, -0.656283, 0, 1, 0, 0.656283, 0, 0.754515, 3.19729, 0.126985, 2.0555)

[node name="ItemConsumer" parent="Interactions/Cauldron_MainRoom2" index="1"]
recipe = ExtResource("16_x4oov")

[node name="Cauldron_Kitchen" parent="Interactions" index="2" instance=ExtResource("14_b3up8")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.25061, 0.126985, 4.20722)

[node name="ItemConsumer" parent="Interactions/Cauldron_Kitchen" index="1"]
recipe = ExtResource("17_ivku7")

[node name="Cauldron_Greenhouse" parent="Interactions" index="3" instance=ExtResource("14_b3up8")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 8.92705, 0.126985, 3.33881)

[node name="ItemConsumer" parent="Interactions/Cauldron_Greenhouse" index="1"]
recipe = ExtResource("18_ss4b2")

[node name="Cauldron_Corridor" parent="Interactions" index="4" instance=ExtResource("14_b3up8")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.03337, 0.126985, 5.13542)

[node name="ItemConsumer" parent="Interactions/Cauldron_Corridor" index="1"]
recipe = ExtResource("14_3rml5")

[node name="Cauldron_Office" parent="Interactions" index="5" instance=ExtResource("14_b3up8")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5.84827, 0.126985, 5.13542)

[node name="ItemConsumer" parent="Interactions/Cauldron_Office" index="1"]
recipe = ExtResource("15_a5iu8")

[node name="Cauldron_BroomRoom" parent="Interactions" index="6" instance=ExtResource("14_b3up8")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5.84827, 0.126985, 8.10398)

[node name="ItemConsumer" parent="Interactions/Cauldron_BroomRoom" index="1"]
recipe = ExtResource("16_b3up8")

[node name="CoaltemProvider_MainRoom" parent="Interactions" index="7" instance=ExtResource("15_vrc4q")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.39346, 1, 0.806611)
item_source = ExtResource("18_qjqsm")

[node name="ClockItemProvider_Bedroom" parent="Interactions" index="8" node_paths=PackedStringArray("source_mesh") instance=ExtResource("15_vrc4q")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -6.14365, 0.384626, 1.93349)
item_source = ExtResource("17_ss4b2")
source_mesh = NodePath("Clocks")

[node name="Clocks" type="Node3D" parent="Interactions/ClockItemProvider_Bedroom" index="6"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.654, 0)

[node name="Clock" type="MeshInstance3D" parent="Interactions/ClockItemProvider_Bedroom/Clocks" index="0"]
transform = Transform3D(0.450344, 0, -0.535901, 0, 0.7, 0, 0.535901, 0, 0.450344, 0.0756531, -0.485, 0.198708)
material_override = ExtResource("21_u5w0m")
material_overlay = ExtResource("23_cqqhe")
mesh = ExtResource("21_fhw5o")
skeleton = NodePath("../..")

[node name="Clock3" type="MeshInstance3D" parent="Interactions/ClockItemProvider_Bedroom/Clocks" index="1"]
transform = Transform3D(0.64643, 0, -0.268567, 0, 0.7, 0, 0.268567, 0, 0.64643, -0.177779, -0.485, 0.284329)
material_override = ExtResource("21_u5w0m")
material_overlay = ExtResource("23_cqqhe")
mesh = ExtResource("21_fhw5o")
skeleton = NodePath("../..")

[node name="Clock2" type="MeshInstance3D" parent="Interactions/ClockItemProvider_Bedroom/Clocks" index="2"]
transform = Transform3D(0.679431, 0, 0.168444, 0, 0.7, 0, -0.168444, 0, 0.679431, -0.222635, -0.485, 0.0205445)
material_override = ExtResource("21_u5w0m")
material_overlay = ExtResource("23_cqqhe")
mesh = ExtResource("21_fhw5o")
skeleton = NodePath("../..")

[node name="BottleItemProvider_Kitchen" parent="Interactions" index="9" node_paths=PackedStringArray("source_mesh") instance=ExtResource("15_vrc4q")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.32956, 0.854693, 0.494568)
item_source = ExtResource("10_vrc4q")
source_mesh = NodePath("Bottles")

[node name="Bottles" type="Node3D" parent="Interactions/BottleItemProvider_Kitchen" index="6"]

[node name="Bottle" type="MeshInstance3D" parent="Interactions/BottleItemProvider_Kitchen/Bottles" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.110194, -0.0131072, 0.18923)
material_override = ExtResource("21_u5w0m")
material_overlay = ExtResource("23_cqqhe")
mesh = ExtResource("23_yoh1m")
skeleton = NodePath("../..")

[node name="Bottle2" type="MeshInstance3D" parent="Interactions/BottleItemProvider_Kitchen/Bottles" index="1"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.110194, -0.0131072, -0.111481)
material_override = ExtResource("21_u5w0m")
material_overlay = ExtResource("23_cqqhe")
mesh = ExtResource("23_yoh1m")
skeleton = NodePath("../..")

[node name="Bottle3" type="MeshInstance3D" parent="Interactions/BottleItemProvider_Kitchen/Bottles" index="2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.110194, -0.0131072, -0.434108)
material_override = ExtResource("21_u5w0m")
material_overlay = ExtResource("23_cqqhe")
mesh = ExtResource("23_yoh1m")
skeleton = NodePath("../..")

[node name="Bottle4" type="MeshInstance3D" parent="Interactions/BottleItemProvider_Kitchen/Bottles" index="3"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.126663, -0.0131072, -0.251594)
material_override = ExtResource("21_u5w0m")
material_overlay = ExtResource("23_cqqhe")
mesh = ExtResource("23_yoh1m")
skeleton = NodePath("../..")

[node name="Bottle5" type="MeshInstance3D" parent="Interactions/BottleItemProvider_Kitchen/Bottles" index="4"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.126663, -0.0131072, 0.0490955)
material_override = ExtResource("21_u5w0m")
material_overlay = ExtResource("23_cqqhe")
mesh = ExtResource("23_yoh1m")
skeleton = NodePath("../..")

[node name="MarigoldItemProvider_Greenhouse" parent="Interactions" index="10" instance=ExtResource("15_vrc4q")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 8.78712, 0.9993, 0.94719)
item_source = ExtResource("12_vrc4q")

[node name="PumpkinItemProvider_Greenhouse" parent="Interactions" index="11" node_paths=PackedStringArray("source_mesh") instance=ExtResource("15_vrc4q")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 7.38294, 0.124033, 5.89843)
item_source = ExtResource("21_wyi7n")
source_mesh = NodePath("Node3D")

[node name="Node3D" type="Node3D" parent="Interactions/PumpkinItemProvider_Greenhouse" index="6"]

[node name="Pumpkin" type="MeshInstance3D" parent="Interactions/PumpkinItemProvider_Greenhouse/Node3D" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.149104, 0, 0.0494708)
material_overlay = ExtResource("23_cqqhe")
mesh = ExtResource("24_yoh1m")
skeleton = NodePath("../../root/@EditorNode@21272/@Panel@14/@VBoxContainer@15/DockHSplitLeftL/DockHSplitLeftR/DockHSplitMain/@VBoxContainer@26/DockVSplitCenter/@VSplitContainer@54/@VBoxContainer@55/@EditorMainScreen@102/MainScreen/@CanvasItemEditor@11482/@VSplitContainer@11134/@HSplitContainer@11136/@HSplitContainer@11138/@Control@11139/@SubViewportContainer@11140/@SubViewport@11141/ItemProvider")
surface_material_override/0 = ExtResource("25_u5w0m")

[node name="Pumpkin4" type="MeshInstance3D" parent="Interactions/PumpkinItemProvider_Greenhouse/Node3D" index="1"]
transform = Transform3D(0.424711, 0, 0, 0, 0.424711, 0, 0, 0, 0.424711, -0.119448, 0, 0.315548)
material_overlay = ExtResource("23_cqqhe")
mesh = ExtResource("24_yoh1m")
skeleton = NodePath("../../root/@EditorNode@21272/@Panel@14/@VBoxContainer@15/DockHSplitLeftL/DockHSplitLeftR/DockHSplitMain/@VBoxContainer@26/DockVSplitCenter/@VSplitContainer@54/@VBoxContainer@55/@EditorMainScreen@102/MainScreen/@CanvasItemEditor@11482/@VSplitContainer@11134/@HSplitContainer@11136/@HSplitContainer@11138/@Control@11139/@SubViewportContainer@11140/@SubViewport@11141/ItemProvider")
surface_material_override/0 = ExtResource("25_u5w0m")

[node name="Pumpkin2" type="MeshInstance3D" parent="Interactions/PumpkinItemProvider_Greenhouse/Node3D" index="2"]
transform = Transform3D(0.899603, 0.436708, 0, -0.436708, 0.899603, 0, 0, 0, 1, 0.0455465, 0, -0.0936647)
material_overlay = ExtResource("23_cqqhe")
mesh = ExtResource("24_yoh1m")
skeleton = NodePath("../../root/@EditorNode@21272/@Panel@14/@VBoxContainer@15/DockHSplitLeftL/DockHSplitLeftR/DockHSplitMain/@VBoxContainer@26/DockVSplitCenter/@VSplitContainer@54/@VBoxContainer@55/@EditorMainScreen@102/MainScreen/@CanvasItemEditor@11482/@VSplitContainer@11134/@HSplitContainer@11136/@HSplitContainer@11138/@Control@11139/@SubViewportContainer@11140/@SubViewport@11141/ItemProvider")
surface_material_override/0 = ExtResource("25_u5w0m")

[node name="Pumpkin3" type="MeshInstance3D" parent="Interactions/PumpkinItemProvider_Greenhouse/Node3D" index="3"]
transform = Transform3D(0.702913, 0.341225, 0, -0.341225, 0.702913, 0, 0, 0, 0.781359, 0.0658696, 0, 0.216279)
material_overlay = ExtResource("23_cqqhe")
mesh = ExtResource("24_yoh1m")
skeleton = NodePath("../../root/@EditorNode@21272/@Panel@14/@VBoxContainer@15/DockHSplitLeftL/DockHSplitLeftR/DockHSplitMain/@VBoxContainer@26/DockVSplitCenter/@VSplitContainer@54/@VBoxContainer@55/@EditorMainScreen@102/MainScreen/@CanvasItemEditor@11482/@VSplitContainer@11134/@HSplitContainer@11136/@HSplitContainer@11138/@Control@11139/@SubViewportContainer@11140/@SubViewport@11141/ItemProvider")
surface_material_override/0 = ExtResource("25_u5w0m")

[node name="ItemProvider" parent="." index="9" instance=ExtResource("27_u5w0m")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.0807367, 0.750098, -0.263253)

[editable path="Interactions/Cauldron_MainRoom1"]
[editable path="Interactions/Cauldron_MainRoom1/blockbench_export"]
[editable path="Interactions/Cauldron_MainRoom1/ItemConsumer"]
[editable path="Interactions/Cauldron_MainRoom2"]
[editable path="Interactions/Cauldron_MainRoom2/blockbench_export"]
[editable path="Interactions/Cauldron_MainRoom2/ItemConsumer"]
[editable path="Interactions/Cauldron_Kitchen"]
[editable path="Interactions/Cauldron_Kitchen/blockbench_export"]
[editable path="Interactions/Cauldron_Kitchen/ItemConsumer"]
[editable path="Interactions/Cauldron_Greenhouse"]
[editable path="Interactions/Cauldron_Greenhouse/blockbench_export"]
[editable path="Interactions/Cauldron_Greenhouse/ItemConsumer"]
[editable path="Interactions/Cauldron_Corridor"]
[editable path="Interactions/Cauldron_Corridor/blockbench_export"]
[editable path="Interactions/Cauldron_Corridor/ItemConsumer"]
[editable path="Interactions/Cauldron_Office"]
[editable path="Interactions/Cauldron_Office/blockbench_export"]
[editable path="Interactions/Cauldron_Office/ItemConsumer"]
[editable path="Interactions/Cauldron_BroomRoom"]
[editable path="Interactions/Cauldron_BroomRoom/blockbench_export"]
[editable path="Interactions/Cauldron_BroomRoom/ItemConsumer"]
